# Prism V7 设计文档：01 - 共生认知系统全景解析

---

### **提纲 (Outline)**

1.  **核心卖点 (Core Selling Points)**
2.  **核心设计哲学 (Core Design Philosophy): 从“共生”到“促生”**
3.  **整体认知模型：全方位对应解析**
    *   第一阶段：捕获 (Capture)
    *   第二阶段：孵化 (Incubation)
    *   第三阶段：探索与分支 (Exploration & Branching)
    *   第四阶段：关联与结构化 (Association & Structuring)
    *   第五阶段：检索 (Retrieval)
    *   第六阶段：传承与升华 (Legacy & Crystallization)
    *   第七阶段：情感共鸣 (Emotional Resonance)
    *   第八阶段：身份模拟 (Identity Simulation)
    *   第九阶段：建构性遗忘 (Constructive Forgetting)
    *   第十阶段：集体心流 (Collective Ideation)
4.  **总结：从人脑到“共生心智”**
5.  **UI/UX 整体设计规划**
    *   设计调性 (Design Tone)
    *   核心原则 (Core Principles)
    *   呈现方式 (Presentation Style)
    *   **竞品UI借鉴与Prism的差异化 (Competitive UI Inspiration & Prism's Differentiation)**
6.  **附录：跨时代的技术架构原则 (Appendix: Architectural Principles for a Timeless Product)**

---

### **1. 核心卖点 (Core Selling Points)**

*   **智慧与情感的共生伙伴:** Prism不仅仅是冰冷的知识管理，它能感知、记录并与您的情感共鸣，成为真正懂你的思维伙伴。
*   **从“第二大脑”到“共生心智”:** 我们的目标不是替代你，而是通过AI的超强能力，补全人类思维在记忆、逻辑和偏见上的固有短板。
*   **系统化的创造力引擎:** 通过独创的“顿悟模拟器”，将不可控的灵感迸发，变成一个可以随时进入、并能大概率邂逅惊喜的系统化过程。
*   **你的专属“人生教练”:** 利用“未来身份模拟器”，您可以安全地预演人生的各种可能性，为转行、创业等重大决策提供数据和逻辑支撑。
*   **认知偏见的“AI反射镜”:** AI不再是“审查官”，而是作为一面高清的“偏见之镜”，以其独特的非人视角，帮助您发现自己思想体系中的逻辑张力、矛盾点和未言明的假设，激发您进行更深邃、更严谨的思考。
*   **数字信息过载的终结者:** 首创的“建构性遗忘”机制，智能地为您“修剪”和“归档”繁杂的信息，让您的思维空间永远保持清爽、专注。
*   **从个体智慧到集体心流:** 无缝切换到“共享思想空间”，与团队进行实时、高效的头脑风暴，并由中立的“AI引导者”促进共识、打破僵局。

---

### **2. 核心设计哲学 (Core Design Philosophy): 从“共生”到“促生”**

**“促生认知 (Maieutic Cognition)”**

我们最初的理念是 **“共生认知 (Symbiotic Cognition)”**。即承认人脑虽是奇迹但非完美，其工作记忆有限、检索不可靠、易产生偏见。Prism的设计目标不是**取代**大脑，而是与之形成一个**共生系统**，用机器的优势（无限记忆、超强算力）来弥补人脑的不足。

然而，一个真正跨时代的产品，其终极目标不应止于“共生”。我们追求更高层次的 **“促生认知”**。这个词源于苏格拉底的“精神助产术”(Maieutics)，其核心不是灌输知识，而是通过高质量的提问，帮助对话者**自己诞生**思想。

因此，Prism的最终使命是**促进用户自身心智模型的成长与进化**。它的伟大，不应体现在用户离开它就无法思考，而应体现在，因为有了它的帮助，用户自己的大脑变得更强大、更清晰、更有创造力。它是一个旨在帮助用户“自我超越”的“认知健身房”，而非一个“永久的认知拐杖”。

在此哲学下，AI的身份也发生了根本性转变。它不再是宣称“绝对理性”的**“法官”**，而是扮演一面**“偏见的镜子”**。它深知自己由数据和算法构成，同样存在偏见。它的价值在于，用它独特的、非人类的偏见，来映照出我们习以为常的思维定势。它不提供“正确答案”，而是通过提出直指要害的问题（例如：“我注意到，你的A观点和B观点之间，似乎存在一种张力，你能否再审视一下？”），激发用户进行更深度的自我审问与批判性思考。

AI在此系统中的身份是多变的，它不是一个单一的“助手”，而是一个根据不同思维阶段，扮演不同角色的**“心智伙伴集合体”**。

---

### **3. 整体认知模型：全方位对应解析**

#### **第一阶段：捕获 (Capture) - 思想的播种**
*   **🧠 神经学家:** 感官输入在标志性/回声性记忆中仅停留毫秒至秒级。没有注意力的加持，它会瞬间衰减。这是意识的瓶颈。
*   **🤔 哲学家:** 记录一个想法的行为会改变这个想法。目标是使这种转变尽可能无损，捕捉原始的"现象"于其被过度理性化之前。
*   **📈 战略家:** 最低摩擦的捕获过程是用户获取的主要钩子。如果我们赢得了"捕获"之战，我们就赢得了用户的整个思维过程。
*   **🤖 AI工程师/实现:** 通过手势驱动的统一入口（语音、文本、图片）实现。利用设备端AI（如Whisper.cpp）进行实时处理，保证速度和隐私。**进阶：** 引入"情景感知捕获"，在用户授权下，自动将地理位置、天气、环境音作为元数据附加到节点，将思想与其物理诞生地锚定。
*   **🎨 UI/UX呈现:** 长按画布任意处 -> 滑动选择输入类型 -> 即时生成节点。过程必须瞬时，并有强烈的触觉/听觉反馈以示确认。**认知档位(Cognitive Gears)：** 默认为"速记模式"，AI完全静默，专注于最低摩擦的捕获。

#### **第二阶段：孵化 (Incubation) - 无意识的酝酿**
*   **🧠 神经学家:** 默认模式网络(DMN)在休息状态下活跃，整合自我参照信息和过去经验，从而产生创造性见解。我们正在模拟DMN的活动。
*   **🤔 哲学家:** 真正的创造力是不可强求的。它是有准备但放松的头脑的礼物。工具必须为这种"放手"创造空间。
*   **📈 战略家:** 这是一个"魔法时刻"功能，能产生巨大的用户愉悦感和产品护城河。这是"灵感即服务"的体现。
*   **🤖 AI工程师/实现:** 使用嵌入模型（如Core ML的语言模型）计算节点间的"弱关联"。使用SimilaritySearchKit进行高效的本地向量搜索。"漂移模式"在这些弱关联节点随机靠近时触发"共鸣瞬现(Resonance Flash)"。**个性化阈值：** 系统会学习用户对"共鸣瞬现"的采纳率，自动调整弱关联阈值。
*   **🎨 UI/UX呈现:** "漂移模式"视觉上是梦幻、缓慢、非侵入性的。代表"共鸣瞬现"的金色连接线必须感觉特殊而短暂。**可解释的魔法：** 任何"魔法"事件都提供"为什么"的解释入口，点击后显示"一个未经审视的连接"，诚实说明其统计学共鸣的本质。**认知档位：** 用户需主动切换到"缪斯模式"才会激活此功能。

#### **第三阶段：探索与分支 (Exploration & Branching) - 思想的路径**
*   **🧠 神经学家:** 前额叶皮层，特别是背外侧前额叶皮层(dlPFC)，是工作记忆和专注力的关键，但其容量有限。“专注密室”是一个外部的dlPFC。
*   **🤔 哲学家:** 自由需要结构。要深入思考一件事，我们必须从其他一切事物的干扰中解放出来。这是一个数字化的修道院隔间。
*   **📈 战略家:** 此功能针对高级用户和专业人士，为高级订阅服务提供了理由，将工具从简单的笔记本转变为深度工作环境。
*   **🤖 AI工程师/实现:** AI的上下文窗口动态地限定在“专注密室”内的节点，从而提供更相关、更具体的建议。
*   **🎨 UI/UX呈现:** “穿越”式的过渡动画至关重要，它必须感觉像是进入一个新世界。每个密室的专属背景纹理增强了这种沉浸感。

#### **第四阶段：关联与结构化 (Association & Structuring) - 碎片的连接**
*   **🧠 神经学家:** 海马体对形成新关联至关重要，而新皮层存储结构化知识。我们正在桥接这两个功能：混乱的联想（认知迷雾）和逻辑结构（AI透镜）。
*   **🤔 哲学家:** 智慧不仅在于知道事实，还在于理解它们之间的关系。工具必须能可视化清晰的逻辑链和模糊的直觉联系。
*   **📈 战略家:** 这直接解决了知识管理的核心价值主张：将原始信息转化为结构化智慧。"AI透镜"是强大的差异化因素。
*   **🤖 AI工程师/实现:** "认知迷雾"使用主题建模生成"幽灵词语"。"AI透镜"使用有特定指令的LLMs。**思想的归因链协议：** 任何AI生成的新节点，都必须在元数据中包含其"源节点"的引用列表。UI上允许用户一键追溯，查看结论的推理来源，建立人机信任。**认知档位：** 仅在用户主动调用AI功能时进入"审问模式"。
*   **🎨 UI/UX呈现:** "认知迷雾"使用`SKEffectNode`配合Core Image滤镜实现柔和的视觉效果。"AI透镜"则应是一个高对比度的叠加层，用粗线条突出显示逻辑结构。

#### **第五阶段：检索 (Retrieval) - 记忆的提取**
*   **🧠 神经学家:** 检索是一个重构过程，容易出错。大脑根据线索进行检索，更好的线索带来更准确的回忆。
*   **🤔 哲学家:** 我们无法回忆起来的，就不算真正拥有。一个完美的记忆是对自己过去的全知形式。
*   **📈 战略家:** 完美、轻松的搜索能建立巨大的用户信任和锁定。一旦用户信任一个系统来管理他们的全部记忆，流失率就会变得非常低。
*   **🤖 AI工程师/实现:** 使用Core ML嵌入模型驱动语义搜索。使用SimilaritySearchKit进行高效的本地向量检索。**记忆之海的回响：** 搜索范围默认包含被归档的节点，相关结果会以涟漪形式提示。
*   **🎨 UI/UX呈现:** 搜索结果不是列表，而是直接在画布上以"辉光"或"高亮"显示，保留空间背景。相机随后平移以框选所有结果。

#### **第六阶段：传承与升华 (Legacy & Crystallization) - 思想的沉淀**
*   **🧠 神经学家:** 元认知，即对自身思维的思考，是一种高阶执行功能，对学习和自我提升至关重要。“进化摘要”是一个外部的元认知工具。
*   **🤔 哲学家:** “未经审视的人生不值得过。”这个系统为这种审视提供了原始材料和分析工具。
*   **📈 战略家:** 此功能将产品带入自我提升和个人分析领域。它创造了一个周期性的“价值时刻”（如每周摘要），强化了产品的好处。
*   **🤖 AI工程师/实现:** 使用时序图分析和NLP生成“进化摘要”，识别新集群、高频编辑节点和主题焦点的变化。**进阶：** 引入“认知健身房”模式。AI可发起挑战（如“尝试在不查看笔记的情况下，回忆关于X项目的三个核心观点”），将产品从“认知外包”工具，提升为训练用户内在认知能力的“增强脚手架”。
*   **🎨 UI/UX呈现:** 摘要应是一份设计精美的个性化报告，以一种特殊的节点类型或独立屏幕呈现，用数据可视化展示趋势。

#### **第七阶段：情感共鸣 (Emotional Resonance) - 心智的色彩**
*   **🧠 神经学家:** 人的记忆与情绪状态强绑定。没有情感的记忆是残缺的、难以被深刻记起的。
*   **🤖 AI工程师/实现:** **用户主导，AI辅助：** 默认关闭自动情感光晕。用户完成节点输入后，可主动点击情感印记图标进行标记。AI在后台进行情感分析，仅用于预选建议。系统学习用户的标记习惯，提升预选准确率。
*   **🎨 UI/UX呈现:** 节点根据用户标记的情绪呈现微妙的冷暖色调光晕（使用`SKEffectNode`实现）；"情感透镜"将画布变为"情绪热力图"。

#### **第八阶段：身份模拟 (Identity Simulation) - 心智的罗盘**
*   **🧠 神经学家:** 我们通过在脑中预演不同版本的自己（未来情景模拟），来做出关乎人生的重大决策。
*   **🤖 AI工程师/实现:** 开发“推演AI”生成未来情景报告，和“价值观对齐AI”检查想法与身份核心价值的符合度。**进阶：** 为防止“固化的自我”，引入“随机突变因子”和“他者视角注入”。AI可提问：“如果我们引入一个你未曾考虑过的价值观（如‘绝对自由’），这个决策会怎样？”或“换成你敬佩的某人，他会如何看待？”，鼓励用户探索“非我”的可能性，避免被过去的身份所束缚。
*   **🎨 UI/UX呈现:** 通过“视角水晶”切换不同身份，AI的推演以“未来故事板”在画布上展开。

#### **第九阶段：建构性遗忘 (Constructive Forgetting) - 心智的呼吸**
*   **🧠 神经学家:** 遗忘是核心功能，而非bug。它能清除无用信息，防止过载，并帮助形成抽象理解。
*   **🤖 AI工程师/实现:** **记忆炼金术评分：** 除了访问频率，增加"语义独特性"权重，保护可能的新思想萌芽。**遗忘之舟缓冲期：** 节点先进入30天"待渡期"，变为半透明幽灵形态，任何交互都会立即拯救它。**潮汐调度：** 使用iOS的`BGProcessingTask`在设备充电时计算重要性评分。
*   **🎨 UI/UX呈现:** 被"遗忘"的节点使用`SKAction`组合实现优雅的溶解动画（透明度渐变+缩放）。可通过"搜索记忆之海"来"打捞"它们。

#### **第十阶段：集体心流 (Collective Ideation) - 心智的共振**
*   **🧠 神经学家:** 人是社会性动物。镜像神经元系统是协作的基础，团队“心流”时成员大脑活动会呈现同步性。
*   **🤖 AI工程师/实现:** 开发“中立引导AI”，在多人协作中总结要点、发现共识与分歧，并在僵局时提出探索性问题。
*   **🎨 UI/UX呈现:** 支持多人实时协作。AI的发言以中立的系统卡片形式出现，清晰区分于人类贡献。

---

### **4. 总结：从人脑到“共生心智”**

| 思维阶段 | 人脑的局限 | Prism的超越 | AI身份 |
| :--- | :--- | :--- | :--- |
| **I. 捕获** | 脆弱，易忘 | 100%保真，情景感知 | 速记员 |
| **II. 孵化** | 不可控，纯靠运气 | 可按需进入的“顿悟模拟器” | 灵感缪斯 |
| **III. 探索** | 工作记忆小，易分心 | 无限容量、绝对专注的“密室” | 专业领域顾问 |
| **IV. 关联** | 逻辑与联想难以兼顾，有偏见 | 双模态并行，可追溯的“思想建筑师” | 思想建筑师 |
| **V. 检索** | 不可靠，缓慢，有舌尖效应 | 100%精准，即时，概念级搜索 | 记忆保管员 |
| **VI. 传承** | 耗时，主观，非持续 | 数据驱动的“元认知报告”与“认知教练”| 专属史官/教练 |
| **VII. 情感共鸣** | 情绪影响记忆，但难以回溯和分析 | 将情感量化、可视化、可检索 | 共情伙伴 |
| **VIII. 身份模拟**| 未来预演耗能且基于有限经验 | 安全探索多重人生路径与“非我”可能 | 人生教练 |
| **IX. 建构性遗忘**| 遗忘是被动的、失控的 | 主动的、智能的、可逆的“归档” | 记忆园丁 |
| **X. 集体心流** | 协作易受偏见和沟通损耗影响 | 中立引导，促进共识，放大集体智慧 | 中立引导者 |

---

### **5. UI/UX 整体设计规划**

#### **设计调性 (Design Tone)**

*   **静谧科技 (Calm Technology):** 技术应存在于背景中，润物无声，而非喧宾夺主。
*   **侘寂美学 (Wabi-Sabi):** 拥抱不完美和非对称，追求自然的质感和时间的痕迹。
*   **知性与内省 (Intellectual & Introspective):** 界面为深度思考者服务，应是优雅、克制且充满智慧的。
*   **亲密感 (Intimate):** 这不是冰冷的工具，而是你最私密的思维伙伴。

#### **核心原则 (Core Principles)**

*   **无声指导 (Silent Guidance):** UI应在需要时浮现，在不需要时隐退。
*   **物理隐喻 (Physical Metaphors):** 交互应有质感和重量感。
*   **光影叙事 (Light & Shadow Narrative):** 在白灰基调下，用光影、深度、材质和动态来传递信息。
*   **呼吸感 (Breathing Sensation):** 整个系统应感觉是"活"的。
*   **双轨制交互 (Dual-Track Interaction):** 同时支持手势驱动和传统UI，基于用户熟练度智能切换。新用户看到可见按钮，专家用户享受纯手势体验，系统自动识别并适应用户的交互偏好。
*   **渐进式显现 (Progressive Revelation):** 为克服高级交互的学习曲线，系统应提供可选的"引导模式"。该模式下的可见UI（如工具栏、图标提示）会随着用户对相应手势的熟练掌握而**自动、永久地消失**。它是一个会自我拆除的脚手架。
*   **认知流引导 (Cognitive Flow Guidance):** 基于用户当前认知状态智能推荐功能，避免认知过载。系统只在合适的时机显示相关功能，而非一次性展示所有复杂性。
*   **可解释的魔法 (Explainable Magic):** 所有由"隐性AI"驱动的"魔法"事件（如顿悟连线），都必须提供一个"为什么"的解释入口，让用户在享受惊喜的同时，保有理解和控制的权力，从而建立信任。

#### **呈现方式 (Presentation Style)**

*   **界面层级:** L0-画布层, L1-瞬时工具层, L2-全局控制层。
*   **动画哲学:** 动画是叙事，而非装饰。流畅、优雅、可被打断。采用"实用主义动画金字塔"：塔基(流畅交互反馈-必须)、塔身(叙事性转场-重点)、塔尖(装饰性点缀-可选)。
*   **声音与触觉:** 少量、高品质、有意义的声音。深度集成`Core Haptics`，让交互可以"触摸"。
*   **三层渐进式引导 (Three-Layer Progressive Onboarding):**
    *   **第一层：呼吸式引导** - 首次启动时，15秒内教会2个核心手势。
    *   **第二层：情景微提示** - 根据用户行为触发一次性提示，5秒后永久消失。
    *   **第三层：手势禅院** - 设置中的安全练习环境，随时可查。

---
#### **竞品UI借鉴与Prism的差异化 (Competitive UI Inspiration & Prism's Differentiation)**

我们参考 [Miro](https://miro.com/) 和 [FigJam](https://www.figma.com/figjam/)，但拒绝盲从。我们对其成功的UI模式进行“适应性转化”，以服务于Prism的独特“个体优先”与“促生认知”哲学。

**1. 工具栏: 从"可见的工具箱"到"智能的双轨系统"**
*   **Miro/FigJam:** 屏幕边缘常驻一个可见的工具栏，包含便签、图形、画笔等，这是为多人快速选取工具的经典设计。
*   **Prism的转化:** 我们采用**双轨制交互架构**，同时支持传统UI和手势驱动。
    *   **新手轨道:** 画布边缘显示半透明工具栏，包含常用功能按钮，降低学习门槛。
    *   **专家轨道:** 纯手势交互，通过上下文感知唤出功能。在画布空白处长按唤出"创造"工具，在节点上轻点唤出"处理"工具。
    *   **智能切换:** 系统基于用户熟练度自动调整界面。当检测到用户掌握手势后，工具栏逐渐淡化直至完全隐藏。
    *   **核心差异:** 我们不是强迫用户选择，而是让系统适应用户。新用户享受传统UI的安全感，熟练用户体验纯手势的流畅感。**（注：通过"双轨制交互"原则解决新用户的学习曲线问题。）**

**2. 表达性: 从“社交表情”到“内省标记”**
*   **FigJam:** 提供了图章、表情、击掌等丰富的社交反馈工具，旨在增强团队的“乐趣”和“能量”。
*   **Prism的转化:** 我们将这种“表达性”向内引导，用于**标记和丰富个体的情感记忆**。
    *   FigJam的“图章” → Prism的“**情感印记**”。用户可以为一个节点标记一个代表“激动”、“平静”、“困惑”的微妙图标，这会影响该节点的情感光晕和触觉反馈。
    *   FigJam的“投票” → Prism的“**信念锚点**”。用户可以为一个他深信不疑的核心想法或价值观节点，添加一个特殊的“锚点”标记。在“身份模拟”中，AI会给予这些节点更高的权重。
    *   **核心差异:** 竞品用表达性工具与他人沟通；我们用表达性工具与“自我”沟通，加深记忆的情感厚度。

**3. 结构化: 从“手动模板”到“AI蓝图”**
*   **Miro:** 提供丰富的模板库（如SWOT分析、用户旅程图），用户需要**手动选择**并填充。
*   **Prism的转化:** 我们的结构化是**AI驱动、按需生成**的。
    *   用户无需了解什么是“SWOT分析”。他只需对一个想法节点，在AI菜单中选择“**构建 (Structure)**”并提问：“帮我从商业角度分析这个点子”。
    *   AI会理解意图，并**自动**将结果以SWOT的**结构化布局**呈现在画布上。AI不仅是填充者，更是结构的设计者。
    *   **核心差异:** 竞品提供的是“空的容器”（模板）；Prism的AI提供的是“装好智慧的、定制化的容器”（AI蓝图），并且通过“归因链”保证其生成过程是透明可追溯的。

**4. AI交互: 从“显性工具”到“环境智能”**
*   **Miro/FigJam:** AI功能通常通过明确的按钮触发（如“总结便签”、“生成图表”）。AI是一个可以被“调用”的工具集。
*   **Prism的转化:** AI是**弥漫在整个环境中的背景智能**。
    *   **显性AI:** 我们保留了对节点的直接AI操作（展开、审问等）。
    *   **隐性AI (核心差异):** AI更多时候是“不可见”的。它在后台驱动着“顿悟引擎”的随机连接，塑造着“认知迷雾”中的幽灵词语，计算着节点的重要性以建议“遗忘”，调整着节点的情感光晕。
    *   **UI呈现差异:** 我们不会在界面上放置一个巨大的“AI”按钮。AI的存在是通过**画布自身的动态变化**和**环境的智能响应**来感知的。它不是一个被使用的工具，而是这个世界运行的物理法则之一，并且其“魔法”行为是可被解释的。

---

### **6. 附录：跨时代的技术架构原则 (Appendix: Architectural Principles for a Timeless Product)**

为实现上述宏大愿景，技术架构必须具备前瞻性、健壮性和可演化性。以下原则是工程实现的基石。

**1. AI模型抽象层 (Model Abstraction Layer) - 应对"模型动物园"问题**
*   **挑战:** 系统将依赖大量专用AI模型（情感分析、逻辑推理、摘要生成等），直接在业务代码中调用会导致高度耦合，难以维护和升级。
*   **原则:** 建立一个统一的"AI模型抽象层"。业务逻辑只描述"意图"（如`detect_contradiction(text_A, text_B)`），由该抽象层负责：
    *   **动态路由:** 根据意图和上下文，选择当前最合适的后端模型（如 `GPT-5-Deduction-v3` 或 `Claude-Opus-Logic-v1`）。
    *   **Prompt即配置:** 建立版本化的Prompt模板库，支持A/B测试和动态更新，无需重新发布App。
    *   **结果归一化:** 将不同模型的返回结果，格式化为业务层可稳定消费的标准结构。
*   **收益:** 底层AI模型可像插件一样被热插拔、迭代和灰度测试，而上层产品功能保持绝对稳定。

**2. 计算资源的潮汐调度 (Tidal Scheduling of Compute) - 平衡成本、延迟与功耗**
*   **挑战:** 大量"隐性AI"功能（如孵化、遗忘评分）若持续在后台或云端运行，将导致无法接受的成本和设备能耗。
*   **原则:** 分阶段实现，从"机会主义执行"到"智能调度"：
    *   **MVP阶段：** 使用iOS的`BGProcessingTask`进行简单的后台任务调度，接受执行的不确定性。
    *   **进阶阶段：** 建立智能任务队列，将"孵化"、"遗忘评分"等任务按优先级批量执行。
    *   **任务状态快照：** 使用SwiftData持久化`AITask`模型，支持跨会话的任务恢复。
*   **收益:** 在保证关键体验瞬时响应的同时，将总体计算成本和设备负担降至最低，实现可持续运营。

**3. 思想的归因链协议 (Chain of Attribution Protocol) - 建立人机信任的基石**
*   **挑战:** AI生成的内容（如"AI蓝图"）如果是一个"黑箱"，用户无法理解其来源，将难以建立真正的信任，也无法对其进行批判性审视。
*   **原则:** AI生成的**每一个**新信息节点，都必须在元数据中以列表形式，严格记录其推理所依赖的**所有"源节点"的ID**。
    *   **数据层:** 强制要求所有生成性AI的输出都包含`source_node_ids`字段。
    *   **UI层:** 提供清晰、低成本的可视化追溯路径。用户可通过特定交互（如长按、点击详情），让画布高亮或用连线展示出当前AI节点与其所有"父节点"的逻辑关联。
*   **收益:** 将AI的"思考过程"透明化，从根本上建立用户对AI输出的信任感和掌控感，让用户从"被告知者"变为"审视者"。

**4. 向量数据库的演进策略 (Vector Database Evolution Strategy) - 务实的技术选型**
*   **挑战:** 本地语义搜索需要高性能的向量数据库，但C++库(Faiss)的集成复杂度极高。
*   **原则:** 采用分阶段策略，优先保证开发效率：
    *   **MVP阶段：** 使用纯Swift的`SimilaritySearchKit`，避免C++桥接的所有风险。
    *   **扩展阶段：** 通过`VectorDBService`抽象层，为未来升级到Faiss预留清晰路径。
    *   **数据模型中立性：** 定义核心业务模型(CoreNode)，通过适配器模式支持跨平台扩展。
*   **收益:** 大幅降低初期开发成本和技术风险，同时保持架构的可扩展性。

**5. 视觉效果的分层渲染 (Layered Rendering for Visual Effects) - 控制复杂度**
*   **挑战:** 实现高质量的物理隐喻和着色器效果，Metal的学习曲线和维护成本极高。
*   **原则:** 采用三层渲染架构，让每种技术发挥其最大优势：
    *   **SwiftUI层：** 负责所有文本和UI控件，利用其世界级的文本渲染能力。
    *   **SpriteKit层：** 负责场景图管理、物理模拟和基础交互，使用`SKEffectNode`实现视觉效果。
    *   **Metal层(可选)：** 仅在未来需要时，通过`SKShader`封装特定的高级效果。
*   **收益:** 在保证视觉质量的前提下，将开发工时降低一个数量级，消除关键人风险。